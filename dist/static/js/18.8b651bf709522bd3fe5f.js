webpackJsonp([18],{AWzG:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r=i("oAV5");var e={name:"Producer",components:{PublicNav:t=>i.e(2).then((()=>t(i("ggwd"))).bind(null,i)).catch(i.oe),PublicFooter:t=>i.e(2).then((()=>t(i("oTGJ"))).bind(null,i)).catch(i.oe),ApexTitle:t=>i.e(0).then((()=>t(i("IJ5Q"))).bind(null,i)).catch(i.oe),ApexBackGround:t=>i.e(0).then((()=>t(i("cmm4"))).bind(null,i)).catch(i.oe)},created(){},data:()=>({title:"Producer",producer:[],Rank:1,minerBy:null,minerBy_url:"/api/v1.0/minerInfo/minerList",params:{start:"0",pageSize:"10"},start:1,pageNumber:null,arrow:{leftArrow:null,rightArrow:null},isNext:!0,isPrevious:!1,totalPage:null,point:null,count:[]}),mounted(){this.getInstance(),this.getProducerList()},methods:{getInstance(){this.arrow.leftArrow=this.$refs.left,this.arrow.rightArrow=this.$refs.right},getProducerList(){this.$axios.post(this.minerBy_url,this.params).then(t=>{this.count=[],this.producer=[],this.Rank=1;let s=t.data.data;for(let t=0;t<s.length;t++){const i=s[t];s[t].Rank=this.Rank++;let r=s[t].votes,e=r.toString().indexOf(".");if(e>-1){let t=r.toString().split(".")[1].length;t>2&&(i.votes=r.toString().split(".")[0]+"."+r.toString().split(".")[1].substring(0,2)),t<=2&&(i.votes=r)}-1==e&&(i.votes=r)}this.count=r.a.utilMethods.cutArray(s,10),localStorage.setItem("producer",JSON.stringify(s)),this.producer=this.count[0],this.count.length>=10&&(this.totalPage=10,this.pageNumber="1-"+this.totalPage),this.count.length<10&&(this.pageNumber="1-"+this.count.length,1==this.totalPage&&(this.isNext=!1,this.arrow.rightArrow.src=i("0ite")))}).catch(function(t){t.response})},getNext(){if(this.start<10&&1==this.isNext&&this.count.length>1&&(this.isPrevious=!0,this.arrow.leftArrow.src=i("+hvX"),this.arrow.rightArrow.src=i("gKOb"),this.start++,this.pageNumber=this.start+"-"+this.count.length,this.producer=this.count[this.start-1],this.start==this.count.length))return this.pageNumber=this.start+"-"+this.count.length,this.arrow.rightArrow.src=i("0ite"),void(this.isNext=!1)},getPrevious(){if(this.start>1&&(this.arrow.leftArrow.src=i("+hvX"),this.arrow.rightArrow.src=i("gKOb"),this.start--,this.pageNumber=this.start+"-"+this.count.length,this.producer=this.count[this.start-1],1==this.start))return this.arrow.leftArrow.src=i("eh+y"),this.pageNumber="1-"+this.count.length,this.isPrevious=!1,void(this.isNext=!0)},getFirst(){this.count.length>1&&(this.isNext=!0,this.arrow.leftArrow.src=i("eh+y"),this.arrow.rightArrow.src=i("gKOb"),this.start=1,this.pageNumber=this.start+"-"+this.count.length,this.producer=this.count[this.start-1])},getLast(){this.count.length>1&&(this.isNext=!0,this.isPrevious=!0,this.arrow.leftArrow.src=i("+hvX"),this.arrow.rightArrow.src=i("0ite"),this.start=this.count.length,this.pageNumber=this.start+"-"+this.count.length,this.producer=this.count[this.start-1])},setClickValue(t){this.$router.push({path:"/producer/ProducerInfo",query:{id:t}})}}},a={render:function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("div",{staticClass:"producer"},[r("div",{staticClass:"data-table"},[r("ul",{staticClass:"table-ul"},[r("li",{staticClass:"row title"},[t._v("Producer")]),t._v(" "),t._m(0),t._v(" "),t._l(t.producer,function(s,i){return r("li",{key:i,staticClass:"row"},[r("span",{staticClass:"col"},[t._v(t._s(s.Rank))]),t._v(" "),r("span",{staticClass:"col col-lg-8 addr",on:{click:function(i){return t.setClickValue(s.addr)}}},[t._v(t._s(s.addr))]),t._v(" "),r("span",{staticClass:"col"},[t._v(t._s(s.votes))]),t._v(" "),r("span",{staticClass:"col"},[t._v(t._s(s.blockCount))])])})],2),t._v(" "),r("div",{staticClass:"apex-pagination"},[r("div",{staticClass:"pagination-content"},[r("a",{staticClass:"first",on:{click:function(s){return t.getFirst()}}},[t._v("First")]),t._v(" "),r("img",{ref:"left",staticClass:"prev",attrs:{src:i("eh+y"),alt:""},on:{click:function(s){t.isPrevious&&t.getPrevious()}}}),t._v(" "),r("span",{staticClass:"list-number"},[t._v(t._s(t.pageNumber))]),t._v(" "),r("img",{ref:"right",staticClass:"next",attrs:{src:i("gKOb"),alt:""},on:{click:function(s){t.isNext&&t.getNext()}}}),t._v(" "),r("a",{staticClass:"last",on:{click:function(s){return t.getLast()}}},[t._v("Last")])])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"row"},[s("span",{staticClass:"col"},[this._v("Rank")]),this._v(" "),s("span",{staticClass:"col col-lg-8"},[this._v("Account")]),this._v(" "),s("span",{staticClass:"col"},[this._v("Votes")]),this._v(" "),s("span",{staticClass:"col"},[this._v("Blocks")])])}]};var o=i("VU/8")(e,a,!1,function(t){i("c68B")},"data-v-2047c72e",null);s.default=o.exports},c68B:function(t,s){}});