webpackJsonp([24],{"1gB3":function(t,s){},"5wRm":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("xipm"),n=e("z+6K"),r=e("oAV5"),i={name:"walletpage",props:["address","privKey"],data(){return{APAddress:[],getAllAddress:null,accountInfo_url:"/api/v1.0/accounts/account",voter_url:"/api/v1.0/vote/getVote",voter_params:{address:null},CPX:0,copyImg:null,currentAddress:this.address,currentPrivKey:this.privKey,refundAmount:[],refund:0,staked:0}},components:{},beforeMount(){},mounted(){this.getInstances(),this.currentAddress=localStorage.getItem("apAddress"),setTimeout(()=>{null!==this.currentAddress&&this.getCPX(this.currentAddress)});const t=setInterval(()=>{this.currentAddress=localStorage.getItem("apAddress"),null!==this.currentAddress&&this.getCPX(this.currentAddress)},1500);this.$once("hook:beforeDestroy",()=>{clearInterval(t)}),this.getAllAddress=n.a.APKStore.where("APAddress").above(0).toArray(t=>{t.forEach(t=>{this.APAddress.push(t.APAddress)})})},methods:{getVoter(t){null!==t&&this.$axios.post(this.voter_url,{address:t}).then(t=>{this.refundAmount=[];let s=t.data.data;this.refund=s.pendingVote;let e,a=s.target;for(let t=0;t<a.length;t++){e=a[t].split("-")[1].replace(/\s/gi,""),this.refundAmount.push(Number(e))}this.staked=r.a.utilMethods.sum(this.refundAmount)}).catch(function(t){t.response})},Copy(t){this.copyImg.src=e("39L7");let s=this.currentAddress;this.doCopy(s)},doCopy(t){this.$copyText(t).then()},getInstances(){this.copyImg=this.$refs.copy},myChangeEvent(t){this.currentAddress=t,this.copyImg.src=e("zOHj"),localStorage.setItem("apAddress",this.currentAddress)},mySelectEvent({id:t,text:s}){},sendAddress(){a.a.$emit("apAddress",this.currentAddress),setTimeout(()=>{a.a.$emit("privKey",this.currentPrivKey)})},getCPX(t){this.getVoter(this.currentAddress),this.$axios.post(this.accountInfo_url,{address:t}).then(t=>{let s=t.data.data;if(null!=s){if(null!==s){let t=s.balance.toString().indexOf(".");if(t>-1){let t=s.balance.toString().split(".")[1].length;t>8&&(this.CPX=s.balance.toString().split(".")[0]+"."+s.balance.toString().split(".")[1].substring(0,8)),t<=8&&(this.CPX=s.balance)}-1==t&&(this.CPX=s.balance)}}else this.CPX=0}).catch(function(t){t.response})},offListener(){a.a.$off("apAddress"),a.a.$off("privKey")}},beforeDestroy(){this.offListener()},computed:{},watch:{}},o={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"overview apex-modul wallet-modul"},[a("p",{staticClass:"apex-title"},[t._v("Wallet")]),t._v(" "),a("div",{staticClass:"clearboth"},[a("div",{staticClass:"wallet-flex-container fl"},[a("div",{staticClass:"clearboth"},[a("div",{staticClass:"flex-item1 fl"},[t._v("Address")]),t._v(" "),a("Select2",{staticClass:"flex-item2 fl",attrs:{autocomplete:"new-password",readonly:"",onfocus:"this.removeAttribute('readonly');",options:t.APAddress},on:{change:function(s){return t.myChangeEvent(s)},select:function(s){return t.mySelectEvent(s)}},model:{value:t.currentAddress,callback:function(s){t.currentAddress=s},expression:"currentAddress"}}),t._v(" "),a("img",{ref:"copy",staticStyle:{"margin-top":"10px",cursor:"pointer","margin-left":"12px"},attrs:{src:e("zOHj"),alt:""},on:{click:function(s){return t.Copy()}}})],1),t._v(" "),a("div",{staticClass:"btn-box btn-box-left"},[a("router-link",{attrs:{to:"/wallet/NewWallet"}},[t._v("NEW WALLET")]),t._v(" "),a("router-link",{staticClass:"Iwallet",attrs:{to:"/wallet/OpenWallet"}},[t._v("IMPORT WALLET")])],1)]),t._v(" "),a("div",{staticClass:"wallet-flex-container fl"},[a("div",{staticClass:"cpx-number"},[t._v("CPX Available:")]),t._v(" "),a("span",{staticClass:"alignRight"},[t._v(t._s(t.CPX))]),t._v(" "),a("div",{staticClass:"cpx-number"},[t._v("Staked:")]),t._v(" "),a("span",{staticClass:"alignRight"},[t._v(t._s(t.staked))]),t._v(" "),a("div",{staticClass:"cpx-number"},[t._v("Refunding:")]),t._v(" "),a("span",{staticClass:"alignRight"},[t._v(t._s(t.refund))]),t._v(" "),a("div",{staticClass:"btn-box"},[a("router-link",{attrs:{to:"/wallet/Transfer"},nativeOn:{click:function(s){return t.sendAddress(s)}}},[t._v("TRANSFER")]),t._v(" "),a("router-link",{attrs:{to:"/wallet/VotingSupport"},nativeOn:{click:function(s){return t.sendAddress(s)}}},[t._v("VOTE")]),t._v(" "),a("router-link",{attrs:{to:"/wallet/RefundVote"},nativeOn:{click:function(s){return t.sendAddress(s)}}},[t._v("REFUND")])],1)])])])},staticRenderFns:[]};var c=e("VU/8")(i,o,!1,function(t){e("1gB3")},"data-v-1678fcb2",null);s.default=c.exports},"7uNz":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("oAV5"),n={name:"transactionsList",components:{},data:()=>({ops:{},transactions:[],clickValue:null,accountTransaction_url:"/api/v1.0/transactions/account/transactionList",accountTransaction_param:{start:0,pageSize:10,address:null},newTransaction:null}),mounted(){setTimeout(()=>{this.accountTransaction_param.address=localStorage.getItem("apAddress"),this.getTransactionsList()});const t=setInterval(()=>{this.accountTransaction_param.address=localStorage.getItem("apAddress"),this.getTransactionsList()},1500);this.$once("hook:beforeDestroy",()=>{clearInterval(t)})},methods:{setClickValue(t){this.$router.push({path:"/transactions/TransactionsInfo",query:{id:t}})},goAccountInfo(){let t=localStorage.getItem("apAddress");this.$router.push({path:"/transactions/TransactionsInfo/AccountInfo",query:{id:t}})},getTransactionsList(){null!==this.accountTransaction_param.address&&this.$axios.post(this.accountTransaction_url,this.accountTransaction_param).then(t=>{let s,e=t.data.data.transactions,n=t.headers.date;this.transactions=[];for(let t=0;t<e.length;t++){const s=e[t];"Transfer"!==s.type&&this.transactions.push(s)}for(let t=0;t<this.transactions.length;t++){let e=this.transactions[t];s=a.a.utilMethods.listUTCtime(e.refBlockTime,n),e.refBlockTime=s}}).catch(function(t){t.response})}},beforeDestroy(){}},r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"transactions apex-modul fl"},[e("p",{staticClass:"apex-title"},[t._v("\n    Transactions\n    "),e("router-link",{attrs:{to:""},nativeOn:{click:function(s){return t.goAccountInfo(s)}}},[e("span",[t._v("VIEW ALL")])])],1),t._v(" "),e("ul",{staticClass:"apex-list"},[e("vue-scroll",{attrs:{ops:t.ops}},t._l(t.transactions,function(s,a){return e("li",{key:a},[e("div",{staticClass:"bottom"},[e("span",{staticClass:"hash",on:{click:function(e){return t.setClickValue(s.txHash)}}},[t._v(t._s(s.txHash))]),t._v(" "),e("span",[t._v(t._s(s.refBlockTime))])])])}),0)],1)])},staticRenderFns:[]};var i=e("VU/8")(n,r,!1,function(t){e("vq5K")},"data-v-292964c8",null);s.default=i.exports},F1Lf:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("oAV5"),n={name:"transactionsList",components:{},data:()=>({ops:{},transactions:[],clickValue:null,accountTransaction_url:"/api/v1.0/transactions/account/transactionList",accountTransaction_param:{start:0,pageSize:10,address:null}}),mounted(){setTimeout(()=>{this.accountTransaction_param.address=localStorage.getItem("apAddress"),this.getTransactionsList()});const t=setInterval(()=>{this.accountTransaction_param.address=localStorage.getItem("apAddress"),this.getTransactionsList()},1500);this.$once("hook:beforeDestroy",()=>{clearInterval(t)})},methods:{setClickValue(t){this.$router.push({path:"/transactions/TransactionsInfo",query:{id:t}})},goAccountInfo(){let t=localStorage.getItem("apAddress");this.$router.push({path:"/transactions/TransactionsInfo/AccountInfo",query:{id:t}})},getTransactionsList(){null!==this.accountTransaction_param.address&&this.$axios.post(this.accountTransaction_url,this.accountTransaction_param).then(t=>{let s,e=t.data.data.transactions,n=t.headers.date;this.transactions=[];for(let t=0;t<e.length;t++){const s=e[t];"Transfer"==s.type&&this.transactions.push(s)}for(let t=0;t<this.transactions.length;t++){let e=this.transactions[t];s=a.a.utilMethods.listUTCtime(e.refBlockTime,n),e.refBlockTime=s}}).catch(function(t){t.response})}}},r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"transactions apex-modul fr"},[e("p",{staticClass:"apex-title"},[t._v("\n    Transfers\n    "),e("router-link",{attrs:{to:""},nativeOn:{click:function(s){return t.goAccountInfo(s)}}},[e("span",[t._v("VIEW ALL")])])],1),t._v(" "),e("ul",{staticClass:"apex-list"},[e("vue-scroll",{attrs:{ops:t.ops}},t._l(t.transactions,function(s,a){return e("li",{key:a},[e("div",{staticClass:"bottom"},[e("span",{staticClass:"hash",on:{click:function(e){return t.setClickValue(s.txHash)}}},[t._v(t._s(s.txHash))]),t._v(" "),e("span",[t._v(t._s(s.refBlockTime))])])])}),0)],1)])},staticRenderFns:[]};var i=e("VU/8")(n,r,!1,function(t){e("VW2S")},"data-v-aca561a8",null);s.default=i.exports},VW2S:function(t,s){},vq5K:function(t,s){}});