webpackJsonp([9],{FZdq:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=a("oAV5");var n={name:"AccountInfo",components:{ApexTitle:t=>a.e(0).then((()=>t(a("IJ5Q"))).bind(null,a)).catch(a.oe),ApexBackGround:t=>a.e(0).then((()=>t(a("cmm4"))).bind(null,a)).catch(a.oe)},created(){},data:()=>({title:"AccountInfo Information",accountInfo_url:"/api/v1.0/accounts/account",accountTransaction_url:"/api/v1.0/transactions/account/transactionList",voter_url:"/api/v1.0/vote/getVote",voter_params:{address:null},start:0,accountTransaction_param:{start:0,pageSize:5,address:null},totalPage:null,pageNumber:null,arrow:{leftArrow:null,rightArrow:null},accountInfo:null,transactions:[],refBlockTime:null,Balance:0,isClick:!0,count:null,point:null,switchImg:null,Type:null,noTransactions:null,objectClass:{from:!0,emptyFrom:!1},noData:null,refundAmount:[],refund:0,staked:0}),mounted(){this.getInstance(),this.getClickValue(),this.getAccountTransactionInfo(this.start);const t=setInterval(()=>{this.getAccountInfo(),this.getAccountTransactionInfo(this.start)},1500);this.$once("hook:beforeDestroy",()=>{clearInterval(t)})},methods:{getVoter(t){null!==t&&this.$axios.post(this.voter_url,{address:t}).then(t=>{this.refundAmount=[];let s=t.data.data;this.refund=s.pendingVote;let a,n=s.target;for(let t=0;t<n.length;t++){a=n[t].split("-")[1].replace(/\s/gi,""),this.refundAmount.push(Number(a))}this.staked=i.a.utilMethods.sum(this.refundAmount)}).catch(function(t){t.response})},currentAccountInfo(t){""!==t&&(this.accountTransaction_param.address=t,this.getAccountInfo(),this.getAccountTransactionInfo(this.start),this.getVoter(this.accountTransaction_param.address))},getaddress(t){let s=t.slice(0,8),a=t.slice(-8);return t?s+"..."+a:"Miner Reward"},getInstance(){this.switchImg=this.$refs.img,this.arrow.leftArrow=this.$refs.left,this.arrow.rightArrow=this.$refs.right},Copy(t){let s=this.accountTransaction_param.address;this.switchImg.src=a("39L7"),this.doCopy(s)},doCopy(t){this.$copyText(t).then(function(t){},function(t){})},getClickValue(){this.accountTransaction_param.address=this.$route.query.id,this.getAccountInfo(),this.getAccountTransactionInfo(this.start),this.getVoter(this.accountTransaction_param.address)},getAccountInfo(){null!==this.accountTransaction_param.address&&this.$axios.post(this.accountInfo_url,{address:this.accountTransaction_param.address}).then(t=>{let s=t.data.data;if(this.noData=s,null==this.noData&&(this.count=0),s){let t=s.balance.toString().indexOf(".");if(t>-1){let t=s.balance.toString().split(".")[1].length;t>8&&(this.Balance=s.balance.toString().split(".")[0]+"."+s.balance.toString().split(".")[1].substring(0,8)),t<=8&&(this.Balance=s.balance)}-1==t&&(this.Balance=s.balance)}}).catch(function(t){t.response})},getAccountTransactionInfo(t){null!==this.accountTransaction_param.address&&(this.accountTransaction_param.start=t,this.$axios.post(this.accountTransaction_url,this.accountTransaction_param).then(s=>{let i=s.data.data.transactions;s.headers.date;this.transactions=[],this.transactions=i;for(let t=0;t<this.transactions.length;t++){const s=this.transactions[t];let a=s.amount,i=s.from,n=s.to,o=a.toString().indexOf(".");if(""==i&&(this.objectClass.emptyFrom=!0,this.objectClass.from=!1),this.getaddress(i),this.getaddress(n),o>-1){let t=a.toString().split(".")[1].length;t>2&&(s.amount=a.toString().split(".")[0]+"."+a.toString().split(".")[1].substring(0,2)),t<=2&&(s.amount=a)}-1==o&&(s.amount=a)}if(this.count=s.data.data.count,0==this.count)return this.noTransactions="There are no transactions",this.pageNumber="1-1",void(this.arrow.rightArrow.src=a("0ite"));this.totalPage=this.count/this.accountTransaction_param.pageSize,this.totalPage>=100&&(this.totalPage=100),this.totalPage<100&&(this.point=this.totalPage.toString().indexOf("."),this.point>-1&&(this.totalPage=parseInt(this.totalPage.toString().split(".")[0])+1),-1==this.point&&(this.totalPage=this.totalPage),1==this.totalPage&&(this.isClick=!1,this.arrow.rightArrow.src=a("0ite"))),this.pageNumber=t+1+"-"+this.totalPage}).catch(function(t){t.response}))},getFirst(){null!==this.accountTransaction_param.address&&0!==this.count&&(this.isClick=!0,this.arrow.leftArrow.src=a("eh+y"),1!==this.totalPage&&(this.arrow.rightArrow.src=a("gKOb")),this.start=0,this.pageNumber=this.start+1+"-"+this.totalPage,this.transactions=[],this.getAccountTransactionInfo(this.start))},getLast(){0!==this.count&&(this.isClick=!0,this.arrow.leftArrow.src=a("+hvX"),this.arrow.rightArrow.src=a("0ite"),this.start=this.totalPage-1,this.pageNumber=this.totalPage+"-"+this.totalPage,this.transactions=[],null!==this.accountTransaction_param.address&&this.getAccountTransactionInfo(this.start))},getNext(){if(0!==this.count&&this.start<this.totalPage&&(this.arrow.leftArrow.src=a("+hvX"),this.arrow.rightArrow.src=a("gKOb"),this.start++,this.pageNumber=this.start+1+"-"+this.totalPage,this.transactions=[],this.getAccountTransactionInfo(this.start),this.start==this.totalPage-1))return this.isClick=!1,this.start=this.totalPage-1,this.pageNumber=this.totalPage+"-"+this.totalPage,void(this.arrow.rightArrow.src=a("0ite"))},getPrevious(){0!==this.count&&(this.isClick=!0,this.start>0&&(this.arrow.leftArrow.src=a("+hvX"),this.arrow.rightArrow.src=a("gKOb"),this.start--,this.pageNumber=this.start+1+"-"+this.totalPage,this.transactions=[],this.getAccountTransactionInfo(this.start),0==this.accountTransaction_param.start&&(this.arrow.leftArrow.src=a("eh+y"))))},setTxHash(t){this.$router.push({path:"/transactions/TransactionsInfo",query:{id:t}})}}},o={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"AccountInfo"},[i("div",{staticClass:"data-table transactions-details"},[i("ul",{staticClass:"table-ul"},[i("li",{staticClass:"row title"},[t._v(t._s(t.title))]),t._v(" "),i("li",{staticClass:"row"},[i("span",{staticClass:"col"},[t._v("Address:")]),t._v(" "),i("span",{ref:"address",staticClass:"col col-lg-8 adressCPX"},[i("p",[t._v("\n            "+t._s(t.accountTransaction_param.address)+"\n            "),i("img",{ref:"img",attrs:{src:a("zOHj"),alt:""},on:{click:function(s){return t.Copy()}}})])])]),t._v(" "),i("li",{staticClass:"row"},[i("span",{staticClass:"col"},[t._v("CPX Available:")]),t._v(" "),i("span",{staticClass:"col col-lg-8 adressCPX"},[t._v(t._s(t.Balance)+" CPX")])]),t._v(" "),i("li",{staticClass:"row"},[i("span",{staticClass:"col"},[t._v("Staked:")]),t._v(" "),i("span",{staticClass:"col col-lg-8 adressCPX"},[t._v(t._s(t.staked)+" CPX")])]),t._v(" "),i("li",{staticClass:"row"},[i("span",{staticClass:"col"},[t._v("Refunding:")]),t._v(" "),i("span",{staticClass:"col col-lg-8 adressCPX"},[t._v(t._s(t.refund)+" CPX")])])])]),t._v(" "),i("div",{staticClass:"apex-box"},[t._m(0),t._v(" "),i("div",{staticClass:"data-table transactions-table"},[i("ul",{staticClass:"table-ul"},[t._m(1),t._v(" "),0==t.count?i("span",{staticClass:"col noTx"},[t._v(t._s(t.noTransactions))]):t._e(),t._v(" "),t._l(t.transactions,function(s,a){return i("li",{directives:[{name:"show",rawName:"v-show",value:0!==t.count,expression:"count !== 0"}],key:a,staticClass:"row"},[i("span",{staticClass:"col ttHash"},[i("div",{staticClass:"bottom"},[i("span",{staticClass:"col col-lg-6",on:{click:function(a){return t.setTxHash(s.txHash)}}},[t._v(t._s(s.txHash))])])]),t._v(" "),i("span",{staticClass:"col",class:t.objectClass,on:{click:function(a){return t.currentAccountInfo(s.from)}}},[t._v(t._s(t.getaddress(s.from)))]),t._v(" "),i("span",{staticClass:"col to",on:{click:function(a){return t.currentAccountInfo(s.to)}}},[t._v(t._s(t.getaddress(s.to)))]),t._v(" "),i("span",{staticClass:"col amount"},[t._v(t._s(s.amount)+" CPX")])])})],2),t._v(" "),0!==t.count?i("div",{staticClass:"apex-pagination"},[i("div",{staticClass:"pagination-content"},[i("a",{staticClass:"first",on:{click:function(s){return t.getFirst()}}},[t._v("First")]),t._v(" "),i("img",{ref:"left",staticClass:"prev",attrs:{src:a("eh+y"),alt:""},on:{click:function(s){return t.getPrevious()}}}),t._v(" "),i("span",{staticClass:"list-number"},[t._v(t._s(t.pageNumber))]),t._v(" "),i("img",{ref:"right",staticClass:"next",attrs:{src:a("gKOb"),alt:""},on:{click:function(s){t.isClick&&t.getNext()}}}),t._v(" "),i("a",{staticClass:"last",on:{click:function(s){t.isClick&&t.getLast()}}},[t._v("Last")])])]):t._e()])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"apex-title"},[s("p",[this._v("Transactions")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"row"},[s("span",{staticClass:"col tHash"},[this._v("TX hash")]),this._v(" "),s("span",{staticClass:"col col-lg-6 fromTitle"},[this._v("From")]),this._v(" "),s("span",{staticClass:"col toTitle"},[this._v("To")]),this._v(" "),s("span",{staticClass:"col amountTitle"},[this._v("Amount")])])}]};var r=a("VU/8")(n,o,!1,function(t){a("eMHw")},"data-v-b4a7bce0",null);s.default=r.exports},eMHw:function(t,s){}});